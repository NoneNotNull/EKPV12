require({cache:{"km/calendar/mobile/resource/js/list/GroupItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","km/calendar/mobile/resource/js/list/item/GroupItemMixin"],function(b,c,a){return b("km.calendar.mobile.resource.js.GroupItemListMixin",[c],{itemTemplateString:null,itemRenderer:a,currentDate:new Date(),buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/calendar/valueChange","saveCurrentDate")},saveCurrentDate:function(e,d){this.currentDate=d.currentDate}})})},"km/calendar/mobile/resource/js/list/CalendarItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","km/calendar/mobile/resource/js/list/item/CalendarItemMixin"],function(b,c,a){return b("km.calendar.mobile.resource.js.CalendarItemListMixin",[c],{itemTemplateString:null,itemRenderer:a,currentDate:new Date(),buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/calendar/valueChange","saveCurrentDate")},saveCurrentDate:function(e,d){this.currentDate=d.currentDate}})})},"km/calendar/mobile/resource/js/NavBarMixin":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/dom-construct"],function(c,b,a){return c("km.calendar.mobile.resource.js.NavBarMixin",null,{buildRendering:function(){this.inherited(arguments);a.destroy(this.selectedNode);this.selectedNode=a.create("div",{className:"muiCalendarNavBarSelected"},this.domNode);a.create("i",{className:"arr arrM"},this.selectedNode);a.create("i",{className:"arr arrC"},this.selectedNode)}})})},"km/calendar/mobile/resource/js/list/item/GroupItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojox/mobile/_ItemBase","mui/util","mui/calendar/CalendarUtil","mui/list/item/_ListLinkItemMixin","dojo/date","dojo/date/locale","mui/i18n/i18n!sys-mobile"],function(d,c,j,f,h,k,e,l,g,b,i,a){var m=d("km.imeeting.list.item.CalendarItemMixin",[k,g],{tag:"li",baseClass:"muiGroupListItem",href:"javascript:void(0);",buildRendering:function(){this.inherited(arguments);this.domNode=this.containerNode=this.srcNodeRef||c.create(this.tag,{className:this.baseClass});var n=c.create("div",{className:"leftBar"},this.containerNode);c.create("img",{className:"muiProcessImg",src:this.img},n);var s=c.create("div",{className:"rightContainer"},this.containerNode),r=c.create("div",{className:"contentContainer"},s);if(this.title){this.labelNode=c.create("h4",{className:"muiSubject",innerHTML:this.title},r)}var p=c.create("ul",{className:"groupList"},r);var v;if(this.owner){v=c.create("li",{className:"muiGroupPersons"},p);c.create("i",{className:"mui mui-person"},v);c.create("span",{innerHTML:this.owner},v)}var u=a["mui.date.format.datetime"];if(this.allDay){u=a["mui.date.format.date"]}var o=i.parse(this.start,{selector:"time",timePattern:u}),q=i.parse(this.end,{selector:"time",timePattern:u}),w="";if(b.compare(o,q,"date")!=0){var t=this.allDay?"":a["mui.date.format.time"];t="MM-dd "+t;o=i.format(o,{selector:"time",timePattern:t});q=i.format(q,{selector:"time",timePattern:t});w=o+" ~ "+q}else{o=i.format(o,{selector:"time",timePattern:a["mui.date.format.time"]});q=i.format(q,{selector:"time",timePattern:a["mui.date.format.time"]});w=o+" ~ "+q;if(this.allDay){w="全天"}}v=c.create("li",{className:"muiGroupTime"},p);c.create("i",{className:"mui mui-meeting_date"},v);c.create("span",{innerHTML:w},v)},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(n){if(n){this._set("label",n)}},makeUrl:function(){var o=this.inherited(arguments),p=this.getParent();if(p){var n=l.formatDate(p.currentDate);o=e.setUrlParameter(o,"currentDate",n)}return o}});return m})},"km/calendar/mobile/resource/js/SwitchMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-construct"],function(c,b,a){return c("km.calendar.mobile.resource.js.SwitchMixin",null,{property:"",buildRendering:function(){this.inherited(arguments);this.propDom=a.create("input",{type:"hidden",name:this.property,value:this.value=="on"?true:false},this.domNode)},onStateChanged:function(e){this.inherited(arguments);var d=e=="on"?true:false;this.propDom.value=d;b.publish("km/calendar/statChanged",this,d)}})})},"km/calendar/mobile/resource/js/list/item/CalendarItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojox/mobile/_ItemBase","mui/util","mui/calendar/CalendarUtil","mui/list/item/_ListLinkItemMixin","dojo/date","dojo/date/locale","mui/i18n/i18n!sys-mobile"],function(d,c,j,f,h,k,e,l,g,b,i,a){var m=d("km.imeeting.list.item.CalendarItemMixin",[k,g],{tag:"li",baseClass:"muiCalendarListItem",href:"",buildRendering:function(){this.inherited(arguments);this.domNode=this.containerNode=this.srcNodeRef||c.create(this.tag,{className:this.baseClass});var r=c.create("div",{className:"muiCalendarListContent"},this.containerNode);var o=c.create("em",{className:"arrow_dot"},r);c.create("i",{className:"mui mui-meeting_date"},o);var u=a["mui.date.format.datetime"];if(this.allDay){u=a["mui.date.format.date"]}var p=i.parse(this.start,{selector:"time",timePattern:u}),q=i.parse(this.end,{selector:"time",timePattern:u}),w="";if(b.compare(p,q,"date")!=0){var t=this.allDay?"":a["mui.date.format.time"];t="MM-dd "+t;p=i.format(p,{selector:"time",timePattern:t});q=i.format(q,{selector:"time",timePattern:t});w=p+" ~ "+q}else{p=i.format(p,{selector:"time",timePattern:a["mui.date.format.time"]});q=i.format(q,{selector:"time",timePattern:a["mui.date.format.time"]});w=p+" ~ "+q;if(this.allDay){w="全天"}}var n=c.create("p",{className:"date",innerHTML:w},r);var s=c.create("p",{className:"title"},r);c.create("a",{innerHTML:this.title},s);if(this.labelId){var v=c.create("div",{className:"muiCalendarLabel ",innerHTML:this.labelName},r);f.set(v,"background-color",this.color)}else{c.create("div",{className:"muiCalendarLabel muiCalendarDefaultLabel",innerHTML:"我的日历"},r)}this.href="/km/calendar/km_calendar_main/kmCalendarMain.do?method=view&fdId="+this.id},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(n){if(n){this._set("label",n)}},makeUrl:function(){var o=this.inherited(arguments),p=this.getParent();if(p){var n=l.formatDate(p.currentDate);o=e.setUrlParameter(o,"currentDate",n)}return o}});return m})},"km/calendar/mobile/resource/js/GroupSelect":function(){define(["dojo/_base/declare","dijit/_WidgetBase","mui/form/_StoreFormMixin","dojox/mobile/Tooltip","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojo/query","mui/util"],function(c,b,e,h,a,i,f,g,d){return c("km.calendar.mobile.resource.js.GroupSelect",[b,e],{prefix:"_GroupSelectItem_",openUrl:"",buildRendering:function(){this.inherited(arguments);i.add(this.domNode,"muiCalendarGroupSelect");this.textNode=a.create("span",{className:"muiCalenarGroupSelectText"},this.domNode);a.create("i",{className:"mui mui-down-n"},this.domNode);this.bindEvent()},generateList:function(j){this.formatValues(j);this.set("value",this.value)},formatValues:function(j){this.values=j},_setValueAttr:function(j){this.textNode.innerHTML=this.getTextByValue(j)},getTextByValue:function(k){var l="";if(k==undefined){return l}for(var j=0;j<this.values.length;j++){if(k==this.values[j].id){l=this.values[j].name;break}}return l},bindEvent:function(){this.connect(this.domNode,"touchend","toggleOpener")},toggleOpener:function(){var j=this;if(!this.opener){this.opener=new h();a.place(this.opener.domNode,document.body,"last");i.add(this.opener.domNode,"muiNavBarGroup muicalendarGroup");var m=this.opener.containerNode;a.create("div",{className:"muiCalendarGroupontainer muiNavBarGroupContainer"},m);for(var l=0;l<this.values.length;l++){var k=a.create("div",{className:"muiCalendarGroupItem muiNavBarGroupItem"});if(this.values[l].id==this.value){i.add(k,"selected")}this.connect(k,"click",function(n){var o=d.setUrlParameter(j.openUrl,"groupId",f.get(n.target,"groupId"));window.open(o,"_self")});a.create("div",{groupId:this.values[l].id,innerHTML:this.values[l].name,className:"muiNavBarGroupItemInner"},k);a.place(k,g(".muiCalendarGroupontainer",j.opener.containerNode)[0],"last")}}if(this.opener.resize){this.opener.hide()}else{this.opener.show(this.domNode,["below"])}this.handle=this.connect(document.body,"touchend","unClick");this.handle=this.connect(document.body,"click","unClick")},hideOpener:function(){var j=this.opener;if(j&&j.resize){j.hide()}},unClick:function(j){var l=j.target,k=true;while(l){if(l==this.domNode){k=false;break}l=l.parentNode}if(k){this.defer(function(){this.hideOpener()},1)}this.disconnect(this.handle)}})})},"km/calendar/mobile/resource/js/GroupJsonStoreList":function(){define(["dojo/_base/declare","dojo/topic","dojo/when","mui/calendar/CalendarJsonStoreList","dojo/date","mui/util","dojo/_base/lang","dojo/request","mui/calendar/CalendarUtil"],function(e,f,h,c,b,g,a,d,i){return e("km.calendar.mobile.resource.js.GroupJsonStoreList",[c],{formatData:function(j){var l=[];var m=j.data.calendars;for(var k in m){l=l.concat(m[k])}return l}})})}}});