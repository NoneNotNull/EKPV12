require({cache:{"kms/ask/mobile/js/edit/AskEditEditorMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","mui/form/Editor","dojo/string","dojo/query","dojo/request","mui/dialog/Tip","dojo/_base/array","mui/util","dojo/Deferred","dojo/_base/lang","dojo/when","dojo/topic","dijit/registry","dojo/dom-attr","mui/form/editor/EditorPopupMixin","dojo/_base/lang","mui/device/adapter","dojo/dom-class","dojo/text!./tmpl/layout.jsp"],function(s,h,o,n,b,f,e,l,i,c,a,t,g,p,j,q,d,t,m,k,r){return s("kms.ask.AskEditEditorMixin",d,{layout:r,scoreChange:"/kms/ask/scoreChange",buildRendering:function(){this.inherited(arguments);this.scoreBtnNode=h.create("div",{className:"muiAskScoreSubmit",innerHTML:"悬赏"},this.pluginNode);this.scoreNode=h.create("span",{className:"muiAskScoreCount",innerHTML:'<span class="mui mui-score"></span>&nbsp;'},this.scoreBtnNode);this.countNode=h.create("span",{innerHTML:0},this.scoreNode);this.subscribe(this.scoreChange,"_scoreChange")},_url:"/kms/ask/kms_ask_topic/kmsAskTopic.do?method=save",buildForm:function(){return{docSubject:this.textClaz.format(),fdScore:f('[name="fdScore"]')[0].value,fdKmsAskCategoryId:f('[name="fdKmsAskCategoryId"]')[0].value}},_scoreChange:function(v,u){if(!u){return}var w=u.score;this.countNode.innerHTML=w}})})},"kms/ask/mobile/js/edit/AskScore":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dijit/_WidgetBase","dojo/_base/array","dojo/topic","dojo/dom-attr"],function(c,a,d,g,f,b,e){return c("kms.ask.AskScore",g,{baseClass:"muiAskScore",scores:[0,5,10,20,30,50,70,100],score:100,selectedClass:"muiAskScoreItemSelected",normalClass:"muiAskScoreItem",disableClass:"muiAskScoreItemDisable",br:4,scoreChange:"/kms/ask/scoreChange",buildRendering:function(){this.inherited(arguments);this.inputNode=a.create("input",{type:"hidden",name:"fdScore",value:0},this.domNode);this.titleNode=a.create("div",{className:"muiAskScoreTitle",innerHTML:"选择悬赏值"},this.domNode);this.scoreNode=a.create("div",{className:"muiAskScoreContent"},this.domNode);this.footNode=a.create("div",{className:"muiAskScoreFoot",innerHTML:"您剩余可用的财富值："},this.domNode);this.countNode=a.create("span",{className:"muiAskScoreCount",innerHTML:this.score},this.footNode);f.forEach(this.scores,function(i,h){if(h%this.br==0){this.currentParent=a.create("div",{className:"muiAskScoreRow"},this.scoreNode)}this.buildItem(i,this.currentParent)},this);this.connect(this.scoreNode,"click","onSelect")},_scoreChange:function(i,h){if(!h){return}var j=h.score;this.countNode.innerHTML=this.score-j;this.inputNode.value=j},onSelect:function(h){var i=h.target;while(i){if(d.contains(i,this.normalClass)){var j=parseInt(e.get(i,"data-score"));if(d.contains(i,this.disableClass)){break}f.forEach(this.itemArray,function(k){d.remove(k,this.selectedClass)},this);d.add(i,this.selectedClass);b.publish(this.scoreChange,this,{score:j});break}i=i.parentNode}},itemArray:[],buildItem:function(j,i){var h=this.normalClass;if(this.score<j){h+=" "+this.disableClass}if(j==0){h+=" "+this.selectedClass}this.itemArray.push(a.create("div",{"data-score":j,className:h,innerHTML:"<span>"+j+"</span>"},i))}})})}}});